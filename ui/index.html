<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors AI</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-hand-rock"></i> Rock Paper Scissors AI</h1>
            <p>Professional Machine Learning Image Classifier</p>
            <div class="api-status">
                <span class="status-dot" id="status-dot"></span>
                <span id="status-text">Checking API...</span>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="navigation">
            <button class="nav-btn active" onclick="showSection('predict')">
                <i class="fas fa-camera"></i> Predict Image
            </button>
            <button class="nav-btn" onclick="showSection('train')">
                <i class="fas fa-upload"></i> Upload Training Data
            </button>
            <button class="nav-btn" onclick="showSection('retrain')">
                <i class="fas fa-sync-alt"></i> Retrain Model
            </button>
            <button class="nav-btn" onclick="showSection('stats')">
                <i class="fas fa-chart-bar"></i> Statistics
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Prediction Section -->
            <section id="predict-section" class="section active">
                <div class="section-header">
                    <h2><i class="fas fa-camera"></i> Image Classification</h2>
                    <p>Upload an image to classify as Rock, Paper, or Scissors</p>
                </div>
                
                <div class="upload-area" id="upload-area">
                    <div class="upload-content">
                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                        <h3>Drop your image here</h3>
                        <p>or click to browse files</p>
                        <input type="file" id="file-input" accept="image/*" hidden>
                        <button class="btn btn-primary" onclick="document.getElementById('file-input').click()">
                            <i class="fas fa-folder-open"></i> Choose Image
                        </button>
                    </div>
                </div>

                <!-- Image Preview -->
                <div class="preview-section" id="preview-section" style="display: none;">
                    <div class="image-preview">
                        <img id="preview-image" alt="Preview">
                    </div>
                    <div class="preview-actions">
                        <button class="btn btn-success" id="predict-btn">
                            <i class="fas fa-magic"></i> Predict Image
                        </button>
                        <button class="btn btn-secondary" id="cancel-btn">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </div>

                <!-- Loading -->
                <div class="loading" id="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Analyzing your image...</p>
                </div>

                <!-- Results -->
                <div class="results-section" id="results-section" style="display: none;">
                    <div class="result-card">
                        <div class="result-image">
                            <img id="result-image" alt="Analyzed image">
                        </div>
                        <div class="result-content">
                            <div class="prediction-result">
                                <div class="prediction-icon" id="prediction-icon">
                                    <i class="fas fa-hand-rock"></i>
                                </div>
                                <h3 id="prediction-class">Rock</h3>
                                <div class="confidence" id="confidence">95% Confidence</div>
                            </div>
                            
                            <div class="probabilities">
                                <h4>Prediction Probabilities:</h4>
                                <div class="prob-bar">
                                    <span class="prob-label"><i class="fas fa-hand-rock"></i> Rock</span>
                                    <div class="prob-track">
                                        <div class="prob-fill" id="rock-prob" style="width: 0%"></div>
                                    </div>
                                    <span class="prob-value" id="rock-value">0%</span>
                                </div>
                                <div class="prob-bar">
                                    <span class="prob-label"><i class="fas fa-hand-paper"></i> Paper</span>
                                    <div class="prob-track">
                                        <div class="prob-fill" id="paper-prob" style="width: 0%"></div>
                                    </div>
                                    <span class="prob-value" id="paper-value">0%</span>
                                </div>
                                <div class="prob-bar">
                                    <span class="prob-label"><i class="fas fa-hand-scissors"></i> Scissors</span>
                                    <div class="prob-track">
                                        <div class="prob-fill" id="scissors-prob" style="width: 0%"></div>
                                    </div>
                                    <span class="prob-value" id="scissors-value">0%</span>
                                </div>
                            </div>

                            <button class="btn btn-primary" id="new-prediction-btn">
                                <i class="fas fa-redo"></i> Predict Another Image
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Training Data Upload Section -->
            <section id="train-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-upload"></i> Upload Training Data</h2>
                    <p>Upload images to improve the model's accuracy</p>
                </div>

                <div class="class-selector">
                    <h3>Select Class for Training Images:</h3>
                    <div class="class-buttons">
                        <button class="class-btn active" data-class="rock">
                            <i class="fas fa-hand-rock"></i> Rock
                        </button>
                        <button class="class-btn" data-class="paper">
                            <i class="fas fa-hand-paper"></i> Paper
                        </button>
                        <button class="class-btn" data-class="scissors">
                            <i class="fas fa-hand-scissors"></i> Scissors
                        </button>
                    </div>
                </div>

                <div class="training-upload-area" id="training-upload-area">
                    <div class="upload-content">
                        <i class="fas fa-images upload-icon"></i>
                        <h3>Drop training images here</h3>
                        <p>Selected class: <span id="selected-class">Rock</span></p>
                        <input type="file" id="training-file-input" accept="image/*" multiple hidden>
                        <button class="btn btn-primary" onclick="document.getElementById('training-file-input').click()">
                            <i class="fas fa-folder-open"></i> Choose Training Images
                        </button>
                    </div>
                </div>

                <div class="upload-queue" id="upload-queue" style="display: none;">
                    <h3>Upload Queue:</h3>
                    <div class="queue-items" id="queue-items"></div>
                    <div class="queue-actions">
                        <button class="btn btn-success" id="upload-all-btn">
                            <i class="fas fa-cloud-upload-alt"></i> Upload All
                        </button>
                        <button class="btn btn-secondary" id="clear-queue-btn">
                            <i class="fas fa-trash"></i> Clear Queue
                        </button>
                    </div>
                </div>
            </section>

            <!-- Retraining Section -->
            <section id="retrain-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-sync-alt"></i> Model Retraining</h2>
                    <p>Retrain the model with new data to improve accuracy</p>
                </div>

                <div class="retrain-info">
                    <div class="info-card">
                        <h3>Current Model Status</h3>
                        <div class="status-grid">
                            <div class="status-item">
                                <span class="label">Last Retrained:</span>
                                <span class="value" id="last-retrain">Never</span>
                            </div>
                            <div class="status-item">
                                <span class="label">Training Images:</span>
                                <span class="value" id="training-count">0</span>
                            </div>
                            <div class="status-item">
                                <span class="label">Model Accuracy:</span>
                                <span class="value" id="model-accuracy">Unknown</span>
                            </div>
                        </div>
                    </div>

                    <div class="retrain-controls">
                        <button class="btn btn-primary" id="start-retrain-btn">
                            <i class="fas fa-play"></i> Start Retraining
                        </button>
                        <button class="btn btn-secondary" id="retrain-demo-btn">
                            <i class="fas fa-demo"></i> Run Demo Retraining
                        </button>
                    </div>
                </div>

                <div class="retrain-progress" id="retrain-progress" style="display: none;">
                    <h3>Retraining in Progress...</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" id="progress-text">Initializing...</div>
                </div>

                <div class="retrain-results" id="retrain-results" style="display: none;">
                    <h3>Retraining Complete!</h3>
                    <div class="results-grid">
                        <div class="result-item">
                            <span class="label">New Accuracy:</span>
                            <span class="value" id="new-accuracy">0%</span>
                        </div>
                        <div class="result-item">
                            <span class="label">Training Time:</span>
                            <span class="value" id="training-time">0s</span>
                        </div>
                        <div class="result-item">
                            <span class="label">Epochs:</span>
                            <span class="value" id="epochs-completed">0</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Statistics Section -->
            <section id="stats-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> Model Statistics</h2>
                    <p>View model performance and usage statistics</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="predictions-count">0</h3>
                            <p>Predictions Made</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="retrains-count">0</h3>
                            <p>Model Retrains</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="accuracy-stat">0%</h3>
                            <p>Current Accuracy</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="uptime-stat">0h</h3>
                            <p>System Uptime</p>
                        </div>
                    </div>
                </div>

                <div class="class-distribution">
                    <h3>Class Distribution</h3>
                    <div class="distribution-bars">
                        <div class="dist-bar">
                            <span class="dist-label"><i class="fas fa-hand-rock"></i> Rock</span>
                            <div class="dist-track">
                                <div class="dist-fill" id="rock-dist" style="width: 0%"></div>
                            </div>
                            <span class="dist-value" id="rock-count">0</span>
                        </div>
                        <div class="dist-bar">
                            <span class="dist-label"><i class="fas fa-hand-paper"></i> Paper</span>
                            <div class="dist-track">
                                <div class="dist-fill" id="paper-dist" style="width: 0%"></div>
                            </div>
                            <span class="dist-value" id="paper-count">0</span>
                        </div>
                        <div class="dist-bar">
                            <span class="dist-label"><i class="fas fa-hand-scissors"></i> Scissors</span>
                            <div class="dist-track">
                                <div class="dist-fill" id="scissors-dist" style="width: 0%"></div>
                            </div>
                            <span class="dist-value" id="scissors-count">0</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Error Message -->
            <div class="error-message" id="error-message" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="error-text">An error occurred</span>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
